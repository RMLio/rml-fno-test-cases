# RML FnO Test Cases

> This is a preliminary set of FnO Test cases

| RML FnO id      | title                                                             | purpose                                                                                                            | RMLFNO id-type | data format | reference formulation | comment   | error expected? |
| -------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ | -------------- | ----------- | --------------------- | --------- | --------------- |
| RMLFNOTC0000   | Function on object, 0 parameters                                  | Tests if a function without parameters can be used                                                                 | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0001   | Function on object, 1 reference parameter                         | Tests: (1) if a function with one parameter can be used, (2) a reference parameter can be used                     | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0002   | Function on object, 1 constant parameter                          | Tests if a constant parameter can be used                                                                          | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0003   | Function on object, 1 reference parameter, 1 constant parameter   | Tests if a function with multiple parameters can be used                                                           | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0004   | Function on predicate, 1 parameter                                | Tests if a function can be used on a predicate                                                                     | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0005   | Function on subject, 1 parameter                                  | Tests if a function can be used on a subject                                                                       | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0006   | Function on graph, 1 parameter                                    | Tests if a function can be used on a graph                                                                         | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0007   | Function on object, 1 false reference parameter                   | Tests if a false reference parameters is caught                                                                    | -CSV           | CSV         | N/A                   |           | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0008   | Function on object, 1 template parameter                          | Tests if a function with a template parameter can be used                                                          | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0009   | Function on object, different data source                         | Tests if a function with a different data source can be used                                                       | -CSV           | CSV         | N/A                   | not final | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0010   | Function on object, unknown data source                           | Tests a function with an unknown data source cannot be used                                                        | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0011   | Function on object, wrong type parameter                          | Tests a function with a wrong type parameter cannot be used                                                        | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0012   | Function on object returns null                                   | Tests that no triple should be generated when the result is null.                                                  | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0013   | Function on object returns empty string                           | Tests that a triple is generated when the results is an empty string.                                              | -CSV           | CSV         | N/A                   | not final | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0014   | Function on subject returns invalid IRI                           | Tests that no triples are generated for a subject that gets an invalid IRI as the result from a function.          | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0015   | Function on predicate returns invalid IRI                         | Tests that no triples are generated for a predicate that gets an invalid IRI as the result from a function.        | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0016   | Function on graph returns invalid IRI                             | Tests that no triples are generated for a graph that gets an invalid IRI as the result from a function.            | -CSV           | CSV         | N/A                   | not final | Yes             |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0017   | Function reference on executes                                    | Tests that parametered fno:executes also works                                                                     | -CSV           | CSV         | N/A                   | not final | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 | not final |                 |
| RMLFNOTC0018   | Function on different data sources works                          | Tests that function combining data from different data sources also works                                          | -CSV           | CSV         | N/A                   |           | No              |
|                |                                                                   |                                                                                                                    | -JSON          | JSON        | JSONPath              |           |                 |
|                |                                                                   |                                                                                                                    | -XML           | CSV         | XPath                 |           |                 |
| RMLFNOTC0019   | Function as join condition                                        |                                                                                                                    | -JSON          | JSON        | JSONPath              |           | No              |
| RMLFNOTC0020   |                                                                   |                                                                                                                    |                |             |                       |           | No              |
| RMLFNOTC0021   | Function as template on subject does IRI encoding                 | Template on a subject does IRI encoding                                                                            | -JSON          | JSON        | JSONPath              |           | No              |
| RMLFNOTC0022   | Function on languageMap                                           | Tests that function on LanguageMap is handled                                                                      | -CSV           | CSV         | N/A                   |           | No              |
| RMLFNOTC0023   | Function, parameter as array                                      | Tests that list-style parameters are handled                                                                       | -CSV           | CSV         | N/A                   |           | No              |
| RMLFNOTC0024   | Function, array_get                                               |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final | No              |
| RMLFNOTCA001   | Function dynamically works                                        | Tests (i) hard-coded loading of function file, (ii) dynamic .jar for functions, (iii) has priority over resources) |                |             |                       |           | No              |
| RMLFNOTCA002   | Function preloaded works                                          |                                                                                                                    |                |             |                       |           | No              |
| RMLFNOTCA003   | Function resources functions.ttl works                            |                                                                                                                    |                |             |                       |           | No              |
| RMLFNOTCA004   | Function remote functions.ttl works (has priority over resources) |                                                                                                                    |                |             |                       |           | No              |
| RMLFNOTCA005   | function idlab-fn:readFile                                        | Tests whether the function idlab-fn:readFile is supported correctly by the mapper                                  |                |             |                       |           | No              |
| RMLFNOTCA006   | function idlab-fn:inRange                                         | Tests whether the function idlab-fn:inRange is supported correctly by the mapper                                   |                |             |                       |           | No              |
| RMLFNOTCAB0001 | Function with Long parameter and Instant return value             | Tests a Long -> Instant function                                                                                   | -JSON          | JSON        | JSONPath              | not final | No              |
| RMLFNOTCAB0002 | Function with Double return value                                 | Tests a String -> Double function                                                                                  | -JSON          | JSON        | JSONPath              | not final | No              |
| RMLFNOTCAB0003 | function grel:controls_if                                         | Tests whether the function grel:controls_if(true) is supported correctly by the mapper                             | /              | /           | /                     | not final | No              |
| RMLFNOTCAB0004 | function grel:controls_if                                         | Tests whether the function grel:controls_if(false) is supported correctly by the mapper                            | /              | /           | /                     | not final | No              |
| RMLFNOTCAB0005 | function grel:controls_if                                         | Test grel:controls_if, case true and no else                                                                       | /              | /           | /                     | not final | No              |
| RMLFNOTCAB0006 | function grel:controls_if                                         | Test grel:controls_if, case false and no else                                                                      | /              | /           | /                     | not final | No              |
| RMLFNOTCAB0007 | function grel:array_get vs grel:array_slice                       |                                                                                                                    | -JSON          | JSON        | JSONPath              | not final | No              |
